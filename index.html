<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Burguer J√° | Card√°pio Digital</title>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --primary: #e63946; --dark: #1b1b1b; --bg: #fdfdfd; --gray: #f1f1f1; --whatsapp: #25d366; --gold: #ffb703; --open: #2ecc71; --closed: #95a5a6; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        body { font-family: 'Lexend', sans-serif; margin: 0; background: var(--bg); color: #333; padding-bottom: 120px; }
        
        header { background: var(--dark); color: white; padding: 40px 20px; text-align: left; position: relative; }
        header h1 { margin: 0; font-size: 26px; color: var(--primary); }
        .info-header { font-size: 11px; color: #bbb; margin-top: 10px; line-height: 1.5; }

        .status-badge { position: absolute; top: 20px; right: 20px; padding: 5px 12px; border-radius: 20px; font-size: 12px; font-weight: 700; color: white; }
        .open { background: var(--open); }
        .closed { background: var(--closed); }

        .tabs-nav { display: flex; background: #fff; border-bottom: 1px solid #eee; position: sticky; top: 0; z-index: 102; }
        .tab-btn { flex: 1; padding: 15px; text-align: center; font-weight: 600; cursor: pointer; color: #888; border-bottom: 2px solid transparent; }
        .tab-btn.active { color: var(--primary); border-bottom-color: var(--primary); background: #fff5f5; }

        .search-container { padding: 15px; background: #fff; }
        .search-box { display: flex; align-items: center; background: var(--gray); padding: 10px 15px; border-radius: 12px; }
        .search-box input { background: none; border: none; width: 100%; font-family: inherit; margin-left: 10px; }

        .category-nav { display: flex; overflow-x: auto; background: #fff; padding: 10px 15px; gap: 10px; border-bottom: 1px solid #eee; scrollbar-width: none; position: sticky; top: 52px; z-index: 101; }
        .cat-item { background: var(--gray); padding: 8px 18px; border-radius: 20px; white-space: nowrap; font-size: 13px; font-weight: 600; }
        .cat-item.active { background: var(--primary); color: white; }

        .container { max-width: 500px; margin: auto; padding: 15px; }
        .section-title { font-size: 18px; margin: 25px 0 15px; font-weight: 700; border-left: 4px solid var(--primary); padding-left: 10px; }
        
        .product-card { display: flex; background: white; padding: 12px; margin-bottom: 12px; border-radius: 15px; border: 1px solid #f0f0f0; gap: 12px; align-items: center; cursor: pointer; }
        .product-info { flex: 1; }
        .product-info h3 { margin: 0; font-size: 14px; }
        .product-info p { font-size: 11px; color: #777; margin: 5px 0; }
        .product-price { color: #2d6a4f; font-weight: 700; }
        .product-img { width: 80px; height: 80px; border-radius: 12px; object-fit: cover; }

        #back-to-top { position: fixed; bottom: 100px; right: 20px; background: var(--dark); color: white; width: 45px; height: 45px; border-radius: 50%; display: flex; justify-content: center; align-items: center; z-index: 99; border: 2px solid var(--primary); cursor: pointer; opacity: 0; visibility: hidden; transition: all 0.3s ease; }
        #back-to-top.show { opacity: 1; visibility: visible; }

        .cart-bar { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); width: 90%; max-width: 400px; background: var(--primary); color: white; padding: 18px; border-radius: 50px; display: flex; justify-content: space-between; z-index: 1000; font-weight: 700; display: none; box-shadow: 0 8px 20px rgba(0,0,0,0.2); cursor: pointer; }

        .modal-overlay { position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); display:none; z-index:2000; align-items:flex-end; }
        .modal-content { background:white; width:100%; border-radius:25px 25px 0 0; padding:25px; max-height:95vh; overflow-y:auto; }
        
        .checkout-item { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid #eee; }
        .upsell-box { background: #fff9e6; padding: 15px; border-radius: 12px; margin: 15px 0; border: 1px dashed var(--gold); }
        .option-group { margin: 15px 0; }
        .option-group label { display: block; margin-bottom: 8px; font-weight: 600; font-size: 14px; }
        select, input[type="text"] { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #ddd; font-family: inherit; margin-bottom: 10px; font-size: 14px; }
        .btn-confirm { width: 100%; background: var(--primary); color: white; border: none; padding: 15px; border-radius: 12px; font-weight: 700; font-size: 16px; cursor: pointer; }
        .btn-remove { color: var(--primary); border: none; background: none; font-size: 12px; cursor: pointer; padding: 5px 0; }

        footer { background: #111; color: #fff; padding: 40px 20px; text-align: center; font-size: 13px; }
        .dev-by { margin-top: 15px; color: #666; }
        .dev-by a { color: var(--primary); text-decoration: none; font-weight: 700; }
    </style>
</head>
<body>

<header>
    <div id="status-loja" class="status-badge">Verificando...</div>
    <h1>Burguer J√° üçî</h1>
    <div class="info-header">
        üìç R. Lindon Johnson, 29 - Parque Dez<br>
        üïí Qua a Dom 18:00 √†s 23:55 | (92) 98287-6189
    </div>
</header>

<div class="tabs-nav">
    <div class="tab-btn active" onclick="switchPage('menu')">Card√°pio</div>
    <div class="tab-btn" onclick="switchPage('reviews')">Avalia√ß√µes</div>
</div>

<div id="page-menu" class="page-content active">
    <div class="search-container">
        <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="search-input" placeholder="O que voc√™ quer comer hoje?" onkeyup="filterMenu()">
        </div>
    </div>
    <nav class="category-nav" id="cat-nav"></nav>
    <div class="container" id="menu-sections"></div>
</div>

<div class="modal-overlay" id="product-modal">
    <div class="modal-content">
        <img id="m-img" src="" style="width:100%; height:200px; object-fit:cover; border-radius:15px; margin-bottom:15px;">
        <h2 id="m-title" style="margin:0;"></h2>
        <p id="m-desc" style="color:#666; font-size:14px; margin:10px 0;"></p>
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
            <span id="m-price" style="font-weight:700; color:#2d6a4f; font-size:18px;"></span>
            <div style="display:flex; align-items:center; gap:15px; background:#eee; padding:8px 15px; border-radius:50px;">
                <button onclick="changeQty(-1)" style="border:none; background:none; font-size:18px;">-</button>
                <span id="m-qty" style="font-weight:700;">1</span>
                <button onclick="changeQty(1)" style="border:none; background:none; font-size:18px; color:var(--primary);">+</button>
            </div>
        </div>
        <textarea id="m-obs" placeholder="Alguma observa√ß√£o? (Ex: Sem cebola)" style="width:100%; height:60px; border-radius:10px; border:1px solid #ddd; padding:10px; margin-bottom:15px; font-family:inherit;"></textarea>
        <button id="btn-add-cart" class="btn-confirm" onclick="addToCart()">Adicionar ao Pedido</button>
        <button onclick="closeModals()" style="width:100%; background:none; border:none; color:#999; margin-top:15px;">Voltar ao card√°pio</button>
    </div>
</div>

<div class="modal-overlay" id="checkout-modal">
    <div class="modal-content">
        <h2 style="margin-top:0;">Revisar Pedido</h2>
        <div id="checkout-items"></div>
        
        <div class="upsell-box">
            <div style="font-weight:700; font-size:14px; margin-bottom:10px;">üçü Que tal turbinar seu pedido?</div>
            <button onclick="quickAdd('Batata P', 8.00)" style="font-size:12px; padding:8px; border-radius:20px; border:1px solid var(--gold); background:white;">+ Batata P (+R$ 8)</button>
            <button onclick="quickAdd('Coca Lata', 6.00)" style="font-size:12px; padding:8px; border-radius:20px; border:1px solid var(--gold); background:white; margin-left:5px;">+ Coca Lata (+R$ 6)</button>
        </div>

        <div class="option-group">
            <label>Entrega ou Retirada?</label>
            <select id="delivery-type" onchange="toggleAddress()">
                <option value="entrega">Entrega (Taxa a combinar)</option>
                <option value="retirada">Retirada na Loja</option>
            </select>
        </div>

        <div id="address-fields">
            <input type="text" id="cust-name" placeholder="Seu Nome">
            <input type="text" id="cust-address" placeholder="Endere√ßo Completo (Rua, N√∫mero, Bairro)">
            <p style="font-size: 11px; color: var(--open); margin: -5px 0 10px 5px;">*Entregas no Parque 10 s√£o gr√°tis!</p>
        </div>

        <div class="option-group">
            <label>Forma de Pagamento</label>
            <select id="payment-method">
                <option value="Pix">Pix</option>
                <option value="Cart√£o">Cart√£o (D√©bito/Cr√©dito)</option>
                <option value="Dinheiro">Dinheiro</option>
            </select>
        </div>

        <div style="display:flex; justify-content:space-between; font-weight:700; font-size:18px; margin:20px 0;">
            <span>Total:</span>
            <span id="checkout-total">R$ 0,00</span>
        </div>

        <button class="btn-confirm" onclick="sendWhatsApp()" style="background: var(--whatsapp); height: 60px;">
            <i class="fab fa-whatsapp"></i> Finalizar Pedido
        </button>
        <button onclick="closeModals()" style="width:100%; background:none; border:none; color:#999; margin-top:15px;">Adicionar mais itens</button>
    </div>
</div>

<div id="back-to-top" onclick="scrollToTop()">
    <i class="fas fa-chevron-up"></i>
</div>

<div class="cart-bar" id="cart-bar" onclick="openCheckout()">
    <span>üõí Ver Pedido</span>
    <span id="cart-total-bar">R$ 0,00</span>
</div>

<footer>
    <div style="margin-bottom:15px;">
        <a href="https://www.instagram.com/burguerja_/" target="_blank" style="color:white; font-size:20px; margin:0 10px;"><i class="fab fa-instagram"></i></a>
        <a href="https://wa.me/5592982876189" target="_blank" style="color:white; font-size:20px; margin:0 10px;"><i class="fab fa-whatsapp"></i></a>
    </div>
    <strong>Burguer J√° &copy; 2024</strong><br>
    Manaus - AM
    <div class="dev-by">
        Desenvolvido por: <a href="https://www.instagram.com/nosdoisagencia/" target="_blank">N√≥s Dois Ag√™ncia</a>
    </div>
</footer>

<script>
    const menuData = [
        { cat: "üéÅ Promo√ß√µes & Combos", items: [
            {n: "Combo 1 (X-Salada + Batata P + Refri)", p: 21, d: "X-salada artesanal 60g + batata frita P + Guaran√° lata 350ml.", img: "https://images.unsplash.com/photo-1513185158878-8d8c196b7f81?w=400"},
            {n: "Combo 2 (2 X-Saladas + Batata M + Refri 1L)", p: 35, d: "2 X-saladas 60g + batata M + Guaran√° 1L.", img: "https://images.unsplash.com/photo-1513185158878-8d8c196b7f81?w=400"},
            {n: "Combo 3 (3 X-Saladas + Refri 1L)", p: 37, d: "3 X-saladas artesanais 60g + Guaran√° 1L.", img: "https://images.unsplash.com/photo-1513185158878-8d8c196b7f81?w=400"},
            {n: "Combo 4 (4 X-Saladas + Refri 1L)", p: 48, d: "4 X-saladas artesanais 60g + Guaran√° 1L.", img: "https://images.unsplash.com/photo-1513185158878-8d8c196b7f81?w=400"},
            {n: "Combo 5 (2 X-Saladas + 3x Kik√£o + Refri 1L)", p: 55, d: "Combo fam√≠lia completo com Guaran√° 1L.", img: "https://images.unsplash.com/photo-1513185158878-8d8c196b7f81?w=400"},
            {n: "Combo 6 (3 Kik√£o Simples + Refri 1L)", p: 30, d: "Tr√™s kik√µes tradicionais + Guaran√° 1L.", img: "https://images.unsplash.com/photo-1513185158878-8d8c196b7f81?w=400"},
            {n: "Combo 7 (3 Hot Dog Venezuelano + Refri 1L)", p: 30, d: "Tr√™s dogs estilo venezuelano + Guaran√° 1L.", img: "https://images.unsplash.com/photo-1513185158878-8d8c196b7f81?w=400"},
            {n: "Combo X-Acebolado (+ Batata P)", p: 21, d: "X-salada acebolado + por√ß√£o de batata frita P.", img: "https://images.unsplash.com/photo-1513185158878-8d8c196b7f81?w=400"},
            {n: "Combo 9 (3 X-Saladas + Coca 1L)", p: 43, d: "3 X-saladas artesanais + Coca-Cola 1L.", img: "https://images.unsplash.com/photo-1513185158878-8d8c196b7f81?w=400"},
            {n: "Combo Kid", p: 22, d: "Cheese Burguer 80g + batata P + suco.", img: "https://images.unsplash.com/photo-1565299507177-b0ac66763828?w=400"},
            {n: "Combo Casal", p: 62, d: "2 Cl√°ssicos de Carne + batata M + Coca 1L.", img: "https://images.unsplash.com/photo-1513185158878-8d8c196b7f81?w=400"},
            {n: "Combo Solteiro+", p: 35, d: "1 Cl√°ssicos de Carne + batata P + Coca lata.", img: "https://images.unsplash.com/photo-1513185158878-8d8c196b7f81?w=400"},
            {n: "Combo Especial Double", p: 44, d: "1 Double Burguer + batata P + Coca lata.", img: "https://images.unsplash.com/photo-1513185158878-8d8c196b7f81?w=400"},
            {n: "Combo Dupla Irresist√≠vel", p: 56, d: "1 Cl√°ssicos de Carne + 1 Mister J√° + Coca 1L.", img: "https://images.unsplash.com/photo-1513185158878-8d8c196b7f81?w=400"}
        ]},
        { cat: "üçî X-Saladas", items: [
            {n: "X-Burguer", p: 10, d: "Carne 70g, mu√ßarela, alface e tomate.", img: "https://images.unsplash.com/photo-1571091718767-18b5b1457add?w=400"},
            {n: "X-Maionese", p: 13, d: "Carne 70g, queijo, presunto e maionese especial.", img: "https://images.unsplash.com/photo-1571091718767-18b5b1457add?w=400"},
            {n: "X-Salada", p: 15, d: "Carne 70g, ovo, presunto, mu√ßarela e salada.", img: "https://images.unsplash.com/photo-1571091718767-18b5b1457add?w=400"},
            {n: "X-Salada Cheddar", p: 17, d: "Carne 70g, cheddar, ovo, presunto e salada.", img: "https://images.unsplash.com/photo-1550547660-d9450f859349?w=400"},
            {n: "X-Salada Acebolado", p: 17, d: "Carne 70g, muita cebola na chapa e queijo.", img: "https://images.unsplash.com/photo-1571091718767-18b5b1457add?w=400"},
            {n: "X-Salada Bacon", p: 19, d: "Carne 70g, bacon crocante, ovo e salada.", img: "https://images.unsplash.com/photo-1553979459-d2229ba7433b?w=400"},
            {n: "X-Salada Calabresa", p: 18, d: "Carne 70g, calabresa fatiada e queijo.", img: "https://images.unsplash.com/photo-1571091718767-18b5b1457add?w=400"},
            {n: "X-Salada Duplo", p: 20, d: "Duas carnes, ovo, presunto e mu√ßarela.", img: "https://images.unsplash.com/photo-1525164286253-04e68b9d94bb?w=400"},
            {n: "X-Tudo", p: 22, d: "Carne, bacon, calabresa, salsicha, ovo e salada.", img: "https://images.unsplash.com/photo-1586190848861-99aa4a171e90?w=400"},
            {n: "X-Bacon/Milho", p: 22, d: "Carne, bacon, milho refogado e queijo.", img: "https://images.unsplash.com/photo-1571091718767-18b5b1457add?w=400"}
        ]},
        { cat: "üå≠ Hot Dog & Kik√£o", items: [
            {n: "Hot Dog Venezuelano", p: 10, d: "Salsicha, repolho, cenoura e batata palha.", img: "https://images.unsplash.com/photo-1627023911220-4112e75e9255?w=400"},
            {n: "Kik√£o Simples", p: 10, d: "P√£o, salsicha, molho caseiro e queijo ralado.", img: "https://images.unsplash.com/photo-1627023911220-4112e75e9255?w=400"},
            {n: "Kik√£o Especial Mu√ßarela", p: 15, d: "Kik√£o com cobertura de mu√ßarela derretida.", img: "https://images.unsplash.com/photo-1627023911220-4112e75e9255?w=400"},
            {n: "Kik√£o Especial Calabresa", p: 17, d: "Kik√£o com calabresa e queijo.", img: "https://images.unsplash.com/photo-1627023911220-4112e75e9255?w=400"},
            {n: "Kik√£o Especial Bacon", p: 18, d: "Kik√£o com bacon crocante e queijo.", img: "https://images.unsplash.com/photo-1627023911220-4112e75e9255?w=400"}
        ]},
        { cat: "ü•© Hamb√∫guers Artesanais", items: [
            {n: "Chesse Burguer 120g", p: 20, d: "Carne 120g, cheddar e picles.", img: "https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400"},
            {n: "Mister J√° 120g", p: 23, d: "O carro chefe com molho verde especial.", img: "https://images.unsplash.com/photo-1594212699903-ec8a3eca50f5?w=400"},
            {n: "Cl√°ssico de Carne 120g", p: 24, d: "Carne 120g, cheddar e cebola roxa.", img: "https://images.unsplash.com/photo-1572802419224-296b0aeee0d9?w=400"},
            {n: "Cl√°ssico Especial Double 240g", p: 33, d: "Dois blends de 120g grelhados.", img: "https://images.unsplash.com/photo-1534790566855-4cb788d389ec?w=400"},
            {n: "Especial Da Casa 240g", p: 35, d: "240g de carne, queijo duplo e bacon.", img: "https://images.unsplash.com/photo-1596662951482-0c4ba74a6df6?w=400"},
            {n: "Mister J√° Turbo 120g", p: 30, d: "Artesanal completo com bacon e calabresa.", img: "https://images.unsplash.com/photo-1571091718767-18b5b1457add?w=400"},
            {n: "Tropical Burguer 140g", p: 32, d: "Carne 140g, abacaxi e queijo coalho.", img: "https://images.unsplash.com/photo-1571091718767-18b5b1457add?w=400"}
        ]},
        { cat: "üåØ Shawarmas", items: [
            {n: "Shawarma 200g", p: 30, d: "Carne, frango, molho especial e fritas no p√£o s√≠rio.", img: "https://images.unsplash.com/photo-1561651823-34feb02250e4?w=400"},
            {n: "Combo Individual Shawar", p: 35, d: "1 Shawarma + Coca lata.", img: "https://images.unsplash.com/photo-1561651823-34feb02250e4?w=400"},
            {n: "Combo Duplo Shawarma", p: 68, d: "2 Shawarmas + Coca 1L.", img: "https://images.unsplash.com/photo-1561651823-34feb02250e4?w=400"}
        ]},
        { cat: "üç¢ Espetinhos", items: [
            {n: "Espeto de carne", p: 13, d: "Acompanha farofa e vinagrete.", img: "https://images.unsplash.com/photo-1532636875304-0c89119d9b4d?w=400"},
            {n: "Espeto de Frango", p: 12, d: "Acompanha farofa e vinagrete.", img: "https://images.unsplash.com/photo-1532636810811-309485292398?w=400"},
            {n: "Espeto Carne e Bacon", p: 14, d: "Medalh√£o cl√°ssico.", img: "https://images.unsplash.com/photo-1621271110057-0402b85e0ca9?w=400"},
            {n: "Espeto Especial", p: 23, d: "Espeto + macaxeira e abacate.", img: "https://images.unsplash.com/photo-1532636875304-0c89119d9b4d?w=400"},
            {n: "Espeto Completo", p: 23, d: "Espeto + arroz, feij√£o e vatap√°.", img: "https://images.unsplash.com/photo-1532636875304-0c89119d9b4d?w=400"}
        ]},
        { cat: "ü•§ Bebidas", items: [
            {n: "Agua 400ml", p: 3, d: "Com ou sem g√°s.", img: "https://images.unsplash.com/photo-1560023907-5f339617ea30?w=400"},
            {n: "Refrigerante Lata", p: 6, d: "Diversos sabores.", img: "https://images.unsplash.com/photo-1622483767028-3f66f32aef97?w=400"},
            {n: "Tuchaua/Magistral 1L", p: 6, d: "Sabor de Manaus.", img: "https://images.unsplash.com/photo-1527960669566-f882ba85a4c6?w=400"},
            {n: "Refrigerante 1.5L", p: 12, d: "Coca-Cola ou Fanta.", img: "https://images.unsplash.com/photo-1527960669566-f882ba85a4c6?w=400"},
            {n: "Refrigerante 2L", p: 14, d: "Coca-Cola ou Fanta.", img: "https://images.unsplash.com/photo-1527960669566-f882ba85a4c6?w=400"}
        ]}
    ];

    let cart = [];
    let currentItem = null;
    let qty = 1;

    function checkStatus() {
        const agora = new Date();
        const dia = agora.getDay();
        const hora = agora.getHours();
        const min = agora.getMinutes();
        const tempo = hora * 100 + min;
        const badge = document.getElementById('status-loja');
        if ((dia >= 3 || dia === 0) && (tempo >= 1800 && tempo <= 2355)) {
            badge.innerText = "ABERTO"; badge.className = "status-badge open";
        } else {
            badge.innerText = "FECHADO"; badge.className = "status-badge closed";
        }
    }

    function filterMenu() {
        const q = document.getElementById('search-input').value.toLowerCase().trim();
        document.querySelectorAll('.menu-section').forEach(sec => {
            let hasVisible = false;
            sec.querySelectorAll('.product-card').forEach(card => {
                const text = card.innerText.toLowerCase();
                const isMatch = text.includes(q) || q.split('').every(char => text.includes(char));
                card.style.display = isMatch ? 'flex' : 'none';
                if(isMatch) hasVisible = true;
            });
            sec.style.display = hasVisible ? 'block' : 'none';
        });
    }

    function addToCart() {
        const obs = document.getElementById('m-obs').value;
        cart.push({...currentItem, qty, obs, id: Date.now()});
        updateCartBar();
        closeModals();
        document.getElementById('m-obs').value = '';
    }

    function quickAdd(name, price) {
        cart.push({n: name, p: price, qty: 1, obs: 'Adi√ß√£o r√°pida', id: Date.now()});
        updateCartBar();
        openCheckout();
    }

    function updateCartBar() {
        const total = cart.reduce((acc, i) => acc + (i.p * i.qty), 0);
        document.getElementById('cart-total-bar').innerText = `R$ ${total.toFixed(2)}`;
        document.getElementById('cart-bar').style.display = cart.length > 0 ? 'flex' : 'none';
    }

    function openCheckout() {
        const container = document.getElementById('checkout-items');
        container.innerHTML = '';
        let total = 0;
        cart.forEach(item => {
            total += (item.p * item.qty);
            container.innerHTML += `
                <div class="checkout-item">
                    <div style="flex:1;">
                        <strong style="font-size:14px;">${item.qty}x ${item.n}</strong><br>
                        <small style="color:#777;">${item.obs ? 'Obs: ' + item.obs : ''}</small><br>
                        <button class="btn-remove" onclick="removeFromCart(${item.id})">Remover item</button>
                    </div>
                    <div style="text-align:right; font-weight:700;">
                        R$ ${(item.p * item.qty).toFixed(2)}
                    </div>
                </div>`;
        });
        document.getElementById('checkout-total').innerText = `R$ ${total.toFixed(2)}`;
        document.getElementById('checkout-modal').style.display = 'flex';
    }

    function removeFromCart(id) {
        cart = cart.filter(i => i.id !== id);
        updateCartBar();
        if(cart.length === 0) closeModals(); else openCheckout();
    }

    function toggleAddress() {
        const type = document.getElementById('delivery-type').value;
        document.getElementById('address-fields').style.display = type === 'entrega' ? 'block' : 'none';
    }

    function sendWhatsApp() {
        const name = document.getElementById('cust-name').value;
        const addr = document.getElementById('cust-address').value;
        const type = document.getElementById('delivery-type').value;
        const pay = document.getElementById('payment-method').value;

        if(!name || (type === 'entrega' && !addr)) {
            alert("Por favor, preencha seu nome e endere√ßo de entrega!"); return;
        }

        let msg = `*üçî NOVO PEDIDO - BURGUER J√Å*%0A%0A`;
        msg += `*Cliente:* ${name}%0A`;
        msg += `*Pedido:* ${type.toUpperCase()}%0A`;
        if(type === 'entrega') msg += `*Endere√ßo:* ${addr}%0A`;
        msg += `*Pagamento:* ${pay}%0A%0A`;
        msg += `*--- ITENS ---*%0A`;
        
        let total = 0;
        cart.forEach(i => {
            msg += `‚Ä¢ ${i.qty}x ${i.n} (R$ ${(i.p * i.qty).toFixed(2)})%0A`;
            if(i.obs) msg += `  _Obs: ${i.obs}_%0A`;
            total += (i.p * i.qty);
        });

        msg += `%0A*TOTAL DO PEDIDO: R$ ${total.toFixed(2)}*%0A%0A`;
        if(type === 'entrega') msg += `_Taxa de entrega: A combinar (Gr√°tis no P10)_`;

        window.open(`https://wa.me/5592982876189?text=${msg}`);
    }

    function init() {
        checkStatus();
        const sections = document.getElementById('menu-sections');
        const nav = document.getElementById('cat-nav');
        menuData.forEach((section, idx) => {
            const btn = document.createElement('div');
            btn.className = `cat-item ${idx === 0 ? 'active' : ''}`;
            btn.innerText = section.cat.split(' ')[1] || section.cat;
            btn.onclick = () => {
                document.querySelectorAll('.cat-item').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                window.scrollTo({ top: document.getElementById(`sec-${idx}`).offsetTop - 120, behavior: 'smooth' });
            };
            nav.appendChild(btn);
            let sHtml = `<div class="menu-section" id="sec-${idx}"><h2 class="section-title">${section.cat}</h2>`;
            section.items.forEach(item => {
                sHtml += `<div class="product-card" onclick="openProduct('${item.n}', ${item.p}, '${item.d}', '${item.img}')">
                    <div class="product-info"><h3>${item.n}</h3><p>${item.d}</p><span class="product-price">R$ ${item.p.toFixed(2)}</span></div>
                    <img src="${item.img}" class="product-img"></div>`;
            });
            sections.innerHTML += sHtml + `</div>`;
        });
    }

    function openProduct(n, p, d, img) {
        currentItem = {n, p, d, img}; qty = 1;
        document.getElementById('m-title').innerText = n;
        document.getElementById('m-desc').innerText = d;
        document.getElementById('m-img').src = img;
        document.getElementById('m-price').innerText = `R$ ${p.toFixed(2)}`;
        document.getElementById('m-qty').innerText = qty;
        document.getElementById('product-modal').style.display = 'flex';
    }

    function changeQty(v) { qty = Math.max(1, qty + v); document.getElementById('m-qty').innerText = qty; }
    function closeModals() { document.querySelectorAll('.modal-overlay').forEach(m => m.style.display = 'none'); }
    function scrollToTop() { window.scrollTo({ top: 0, behavior: 'smooth' }); }
    window.addEventListener('scroll', () => {
        const btn = document.getElementById('back-to-top');
        window.scrollY > 300 ? btn.classList.add('show') : btn.classList.remove('show');
    });

    function switchPage(page) {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        event.currentTarget.classList.add('active');
    }

    init();
</script>
</body>
</html>
